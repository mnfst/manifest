import{c as x,g as y,a as v,i as g,b,S as p,d as _,s as C,t as e,e as h,f as E,h as N}from"./index-D02tkJyD.js";var k=e("<h3 class=settings-section__title>Notification Email"),z=e('<div class="waiting-banner waiting-banner--success"role=status><i class="bxd bx-check-circle"></i><p>Notifications will be sent to <strong></strong>.'),A=e("<div class=settings-card__row><div class=settings-card__label><span class=settings-card__label-title>Email address</span><span class=settings-card__label-desc>Where to receive notification alerts.</span></div><div class=settings-card__control><input class=settings-card__input type=email>"),R=e('<div class=settings-card><div class=settings-card__body><p class=settings-card__desc>Set the email address where threshold alerts and notifications will be sent.</p></div><div class=settings-card__footer><button class="btn btn--primary"style=font-size:var(--font-size-sm)>'),L=e("<p>Loading..."),P=e('<div class="waiting-banner waiting-banner--warning"role=alert><i class="bxd bx-x-circle"></i><p>No notification email configured. Alerts will not be delivered until you set one.');const W=()=>{const[s,{refetch:$}]=x(y),[l,f]=v(""),[m,u]=v(!1),w=async()=>{const t=l().trim();if(!t){h.error("Please enter an email address");return}u(!0);try{await E(t),h.success("Notification email saved"),f(""),$()}catch{}finally{u(!1)}};return[k(),(()=>{var t=R(),n=t.firstChild;n.firstChild;var S=n.nextSibling,r=S.firstChild;return g(n,b(p,{get when(){return!s.loading},get fallback(){return L()},get children(){return[b(p,{get when(){return s()?.email},get fallback(){return P()},get children(){var i=z(),c=i.firstChild,o=c.nextSibling,a=o.firstChild,d=a.nextSibling;return g(d,()=>s().email),i}}),(()=>{var i=A(),c=i.firstChild,o=c.nextSibling,a=o.firstChild;return a.$$input=d=>f(d.currentTarget.value),_(()=>C(a,"placeholder",s()?.email??"you@example.com")),_(()=>a.value=l()),i})()]}}),null),r.$$click=w,g(r,()=>m()?"Saving...":"Save"),_(()=>r.disabled=m()||!l().trim()),t})()]};N(["input","click"]);export{W as default};
