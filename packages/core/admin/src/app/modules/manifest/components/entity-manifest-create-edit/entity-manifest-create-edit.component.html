<h2 class="title is-2">{{ title }}</h2>

<form [formGroup]="form">
  <label for="className"
    >Class Name
    <span class="has-text-danger">*</span>
  </label>
  <input
    type="text"
    formControlName="className"
    name="className"
    class="input"
  />

  <label class="checkbox">
    <input
      type="checkbox"
      formControlName="authenticable"
      name="authenticable"
    />
    Authenticable
  </label>

  <div class="tabs">
    <ul>
      <li [ngClass]="{ 'is-active': activeTab === 'fields' }">
        <a (click)="activeTab = 'fields'">Fields</a>
      </li>
      <li [ngClass]="{ 'is-active': activeTab === 'policies' }">
        <a (click)="activeTab = 'policies'">Policies</a>
      </li>
      <li [ngClass]="{ 'is-active': activeTab === 'options' }">
        <a (click)="activeTab = 'options'">Options</a>
      </li>
    </ul>
  </div>

  <!-- Fields tab content -->
  <ng-container *ngIf="activeTab === 'fields'">
    <!-- Fields tab content goes here -->
    <p>Fields</p>

    <app-property-manifest-create-edit
      *ngFor="let property of propertiesFormArray.controls; let i = index"
      [propertyFormGroup]="$any(property)"
    ></app-property-manifest-create-edit>

    <button class="button is-info" (click)="addField()">New field</button>
  </ng-container>

  <!-- Policies tab content -->
  <ng-container *ngIf="activeTab === 'policies'">
    <!-- Policies tab content goes here -->
    <p>Policies</p>
  </ng-container>

  <!-- Options tab content -->
  <ng-container *ngIf="activeTab === 'options'">
    <!-- Fields tab content goes here -->

    <label for="slug">Slug</label>
    <input type="text" formControlName="slug" name="slug" class="input" />

    <label for="nameSingular">Singular name</label>
    <input
      type="text"
      formControlName="nameSingular"
      name="nameSingular"
      class="input"
    />

    <label for="namePlural">Plural name</label>
    <input
      type="text"
      formControlName="namePlural"
      name="namePlural"
      class="input"
    />

    <label for="seedCount">Seed Count</label>
    <input
      type="number"
      formControlName="seedCount"
      name="seedCount"
      class="input"
    />
  </ng-container>

  <!-- Buttons -->
  <div class="container mt-6">
    <div class="columns">
      <div class="column">
        <button class="button" (click)="closeModal()">Cancel</button>
      </div>
      <div class="column">
        <button
          type="submit"
          class="button is-primary"
          (click)="submit(form.value)"
          [disabled]="form.invalid"
        >
          Save
        </button>
      </div>
    </div>
  </div>
</form>
