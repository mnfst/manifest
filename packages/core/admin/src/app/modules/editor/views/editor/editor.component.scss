:host {
  .code-editor {
    font-family:
      'JetBrains Mono', 'Fira Code', 'SF Mono', Monaco, 'Cascadia Code',
      'Roboto Mono', Consolas, 'Courier New', monospace;

    ::ng-deep .cm-editor {
      box-shadow:
        0 1px 3px 0 rgba(0, 0, 0, 0.1),
        0 1px 2px 0 rgba(0, 0, 0, 0.06);
      transition: box-shadow 0.2s ease-in-out;

      &:hover {
        box-shadow:
          0 4px 6px -1px rgba(0, 0, 0, 0.1),
          0 2px 4px -1px rgba(0, 0, 0, 0.06);
      }

      &:focus-within {
        box-shadow:
          0 0 0 3px rgba(214, 158, 46, 0.2),
          0 4px 6px -1px rgba(0, 0, 0, 0.1),
          0 2px 4px -1px rgba(0, 0, 0, 0.06);
        border-color: #d69e2e;
      }
    }

    // Enhanced tooltip styling
    ::ng-deep .cm-tooltip {
      z-index: 1000 !important;
      max-width: 500px !important;
      min-width: 200px !important;
      padding: 12px 16px !important;
      font-size: 14px !important;
      line-height: 1.5 !important;
      word-wrap: break-word !important;
      white-space: pre-wrap !important;
      width: max-content !important;

      // Style links in tooltips
      a {
        color: #d69e2e !important;
        text-decoration: underline !important;
        font-weight: 500 !important;
        transition: color 0.2s ease-in-out !important;

        &:hover {
          color: #b7791f !important;
          text-decoration-thickness: 2px !important;
        }

        &:focus {
          outline: 2px solid rgba(214, 158, 46, 0.5) !important;
          outline-offset: 2px !important;
          border-radius: 2px !important;
        }
      }
    }

    // Improve completion popup styling
    ::ng-deep .cm-tooltip-autocomplete {
      background: #fffbeb;
      border: 1px solid #d69e2e;
      border-radius: 8px;
      box-shadow:
        0 10px 15px -3px rgba(214, 158, 46, 0.1),
        0 4px 6px -2px rgba(214, 158, 46, 0.06);
      max-width: 400px !important;

      ul li[aria-selected] {
        background: rgba(214, 158, 46, 0.1);
        color: #744210;
      }
    }
  }
}
